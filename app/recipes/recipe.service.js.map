{"version":3,"file":"recipe.service.js","sourceRoot":"","sources":["../../src/app/recipes/recipe.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAyC,eAAe,CAAC,CAAA;AACzD,qBAAwC,eAAe,CAAC,CAAA;AAExD,uBAAuB,UAAU,CAAC,CAAA;AAClC,uBAA2B,WAAW,CAAC,CAAA;AAGvC;IAYE,uBAAoB,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;QAV9B,mBAAc,GAAG,IAAI,mBAAY,EAAY,CAAC;QAEtC,YAAO,GAAa;YAC1B,IAAI,eAAM,CAAC,WAAW,EAAE,YAAY,EAAE,iGAAiG,EAAE;gBACvI,IAAI,mBAAU,CAAC,cAAc,EAAE,CAAC,CAAC;gBACjC,IAAI,mBAAU,CAAC,WAAW,EAAE,CAAC,CAAC;aAC/B,CAAC;YACF,IAAI,eAAM,CAAC,cAAc,EAAE,SAAS,EAAE,gFAAgF,EAAE,EAAE,CAAC;SAC5H,CAAC;IAE+B,CAAC;IAElC,kCAAU,GAAV;QACE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED,iCAAS,GAAT,UAAU,EAAU;QAClB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAC1B,CAAC;IAED,oCAAY,GAAZ,UAAa,MAAc;QACzB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;IACvD,CAAC;IAED,iCAAS,GAAT,UAAU,MAAc;QACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5B,CAAC;IAED,kCAAU,GAAV,UAAW,SAAiB,EAAE,SAAiB;QAC7C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,GAAG,SAAS,CAAC;IAC5D,CAAC;IAED,iCAAS,GAAT;QACE,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC1C,IAAM,OAAO,GAAG,IAAI,cAAO,CAAC;YAC1B,cAAc,EAAE,kBAAkB;SACnC,CAAC,CAAC;QACH,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,sDAAsD,EAAE,IAAI,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC;IACzG,CAAC;IAED,iCAAS,GAAT;QAAA,iBASC;QARC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,sDAAsD,CAAC;aACzE,GAAG,CAAC,UAAC,QAAkB,IAAK,OAAA,QAAQ,CAAC,IAAI,EAAE,EAAf,CAAe,CAAC;aAC5C,SAAS,CACR,UAAC,IAAc;YACb,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;QACzC,CAAC,CACF,CAAC;IACN,CAAC;IApDH;QAAC,iBAAU,EAAE;;qBAAA;IAsDb,oBAAC;AAAD,CAAC,AArDD,IAqDC;AArDY,qBAAa,gBAqDzB,CAAA","sourcesContent":["import { Injectable, EventEmitter } from '@angular/core';\nimport { Headers, Http, Response } from '@angular/http';\n\nimport { Recipe } from \"./recipe\";\nimport { Ingredient } from \"../shared\";\n\n@Injectable()\nexport class RecipeService {\n\n  recipesChanged = new EventEmitter<Recipe[]>();\n\n  private recipes: Recipe[] = [\n    new Recipe('Schnitzel', 'Very tasty', 'http://images.derberater.de/files/imagecache/456xXXX_berater/berater/slides/WienerSchnitzel.jpg', [\n      new Ingredient('French Fries', 2),\n      new Ingredient('Pork Meat', 1)\n    ]),\n    new Recipe('Summer Salad', 'Okayish', 'http://ohmyveggies.com/wp-content/uploads/2013/06/the_perfect_summer_salad.jpg', [])\n  ];\n\n  constructor(private http: Http) {}\n\n  getRecipes() {\n    return this.recipes;\n  }\n\n  getRecipe(id: number) {\n    return this.recipes[id];\n  }\n\n  deleteRecipe(recipe: Recipe) {\n    this.recipes.splice(this.recipes.indexOf(recipe), 1);\n  }\n\n  addRecipe(recipe: Recipe) {\n    this.recipes.push(recipe);\n  }\n\n  editRecipe(oldRecipe: Recipe, newRecipe: Recipe) {\n    this.recipes[this.recipes.indexOf(oldRecipe)] = newRecipe;\n  }\n\n  storeData() {\n    const body = JSON.stringify(this.recipes);\n    const headers = new Headers({\n      'Content-type': 'application/json'\n    });\n    return this.http.put('https://recipebook-d8f73.firebaseio.com/recipes.json', body, {headers: headers});\n  }\n\n  fetchData() {\n    return this.http.get('https://recipebook-d8f73.firebaseio.com/recipes.json')\n      .map((response: Response) => response.json())\n      .subscribe(\n        (data: Recipe[]) => {\n          this.recipes = data;\n          this.recipesChanged.emit(this.recipes);\n        }\n      );\n  }\n\n}\n"]}